- make testsuite
- allow validation based on description in own format
	- what should validation do exactly? provide messages on what is wrong, or
		prune everything invalid? The latter is useful, but so is the former.
		And what about missing required stuff? Does that prune the whole
		container? That will run afoul when the container itself is required!
		More obvious answer is that required stuff should have a default value
		as well, which will be substituted if not provided.

types {
	attribute {
		# using a list within the list indicates a list of the type(s) in the list
		type = ( "string", ( "string" ) )
	}
	attributes {
		type = "section"
		allowed_keys {
			non_print { type = "attribute" }
			selection_cursor { type = "attribute" }
			selection_cursor2 { type = "attribute" }
		}
	}
}

allowed_keys {
	wrap {
		type = "bool"
	}
	config_version {
		type = "int"
		allowed_values = ( ( 0, 256) ) # using a list within a list specfies a range
		required = true
		default = 1
	}
	hide_menubar {
		type = "bool"
	}
	color {
		type = "bool"
	}
	tabsize {
		type = "int"
		allowed_values = ( ( 1, 16 ) )
	}
	auto_indent {
		type = "bool"
	}
	terminals {
		type = "section"
		unknown_keys {
			type = "section"
			allowed_keys {
				color {
					type = "bool"
				}
				key_timeout {
					type = "int"
					allowed_values = ( (-10000, 10000) )
				}
				attributes {
					type = "attributes"
				}
			}
		}
	}
}
